import{m as y,z as c,S as v,c as r,b as t,t as m,u as a,d as i,v as d,F as h,j as k,n as f,w as g,G as _,o as p}from"./index-12a07d37.js";const u=y("table_area",{state:()=>({items:[],params:{cari:""}}),actions:{async getData(){const l={params:this.params};try{await c.get("area",l).then(n=>{(n.data.code=200)&&(this.items=n.data.data)})}catch(n){console.log("error",n)}}}}),A=y("form_area",{state:()=>({isOpenAdd:!1,isOpenEdit:!1,idEdit:"",form:{nama:"",pic:"",no_hp:""}}),actions:{setOpenAdd(){this.isOpenAdd=!this.isOpenAdd},setOpenEdit(){this.isOpenAdd=!this.isOpenAdd},async tambahData(){try{const l=await c.post("area",this.form);this.setOpenAdd(),this.form={},u().getData()}catch{}},handleDoubleClick(l){this.idEdit=l.id,this.isOpenEdit=!0,this.form.nama=l.nama,this.form.pic=l.pic,this.form.no_hp=l.no_hp},async editData(){try{const l=await c.put(`area/${this.idEdit}`,this.form);this.isOpenEdit=!1,this.form={},u().getData()}catch{}},async deleteData(){v.fire({title:"Konfirmasi",text:"Apakah anda yakin ingin menghapus data ?",icon:"info",showCancelButton:!0,confirmButtonText:"Hapus",confirmButtonColor:"#DC3545"}).then(l=>{l.isConfirmed&&c.delete(`area/${this.idEdit}`).then(n=>{this.isOpenEdit=!1,this.form={},u().getData()})})}}}),D=t("h3",null,"Data Area",-1),O=t("hr",null,null,-1),C={class:"search-box row"},E={class:"col-md-10 d-flex align-items-center mb-2"},x={class:"col-md-2 d-flex align-items-center"},w=t("hr",null,null,-1),T={class:"table-responsive"},$={class:"table table-sm table-hover mt-3"},N=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"No"),t("th",{scope:"col"},"Nama Area"),t("th",{scope:"col"},"PIC"),t("th",{scope:"col"},"No. HP")])],-1),V=["onDblclick"],M={class:"modal-dialog"},S={class:"modal-content"},U={class:"modal-header"},B=t("h1",{class:"modal-title fs-5",id:"modalTambahLabel"},"Tambah Area",-1),P={class:"modal-body"},H={class:"form-group mb-3"},L=t("small",null,"Nama Area",-1),I={class:"form-group mb-3"},F=t("small",null,"PIC",-1),z={class:"form-group mb-3"},K=t("small",null,"NO HP",-1),j={class:"modal-footer"},G=t("button",{type:"submit",class:"btn btn-sm btn-primary"},"Simpan",-1),q={class:"model-dialog"},J={class:"modal-content"},Q={class:"modal-header"},R=t("h1",{class:"modal-title fs-5",id:"modalEditLabel"},"Edit Area",-1),W={class:"modal-body"},X={class:"form-group mb-3"},Y=t("small",null,"Nama Area",-1),Z={class:"form-group mb-3"},tt=t("small",null,"PIC",-1),st={class:"form-group mb-3"},at=t("small",null,"No. HP",-1),ot={class:"modal-footer"},it={__name:"Index",setup(l){const n=u(),e=A();return n.getData(),(et,s)=>(p(),r(h,null,[D,O,t("div",C,[t("div",E,[t("small",null,"Total data "+m(a(n).items.length),1)]),t("div",x,[i(t("input",{type:"text",class:"form-control form-control-sm mb-2",placeholder:"Cari Area","onUpdate:modelValue":s[0]||(s[0]=o=>a(n).params.cari=o),onKeyup:s[1]||(s[1]=(...o)=>a(n).getData&&a(n).getData(...o))},null,544),[[d,a(n).params.cari]])])]),w,t("button",{type:"button",class:"btn btn-sm btn-primary",onClick:s[2]||(s[2]=o=>a(e).setOpenAdd())}," Tambah Area "),t("div",T,[t("table",$,[N,t("tbody",null,[(p(!0),r(h,null,k(a(n).items,(o,b)=>(p(),r("tr",{key:b,onDblclick:nt=>a(e).handleDoubleClick(o)},[t("td",null,m(b+1),1),t("td",null,m(o.nama),1),t("td",null,m(o.pic),1),t("td",null,m(o.no_hp),1)],40,V))),128))])])]),a(e).isOpenAdd===!0?(p(),r("div",{key:0,class:f(["modal fade",{show:a(e).isOpenAdd}]),style:{display:"block"},id:"modalTambah",tabindex:"-1","aria-labelledby":"modalTambahLabel","aria-hidden":"true"},[t("div",M,[t("div",S,[t("div",U,[B,t("button",{type:"button",class:"btn-close",onClick:s[3]||(s[3]=o=>a(e).setOpenAdd())})]),t("form",{onSubmit:s[8]||(s[8]=g((...o)=>a(e).tambahData&&a(e).tambahData(...o),["prevent"]))},[t("div",P,[t("div",H,[L,i(t("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=o=>a(e).form.nama=o),class:"form-control mt-2",placeholder:"Masukkan nama area .."},null,512),[[d,a(e).form.nama]])]),t("div",I,[F,i(t("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=o=>a(e).form.pic=o),class:"form-control mt-2",placeholder:"Masukkan nama pic .."},null,512),[[d,a(e).form.pic]])]),t("div",z,[K,i(t("input",{type:"number",class:"form-control mt-2","onUpdate:modelValue":s[6]||(s[6]=o=>a(e).form.no_hp=o),placeholder:"Masukkan nama no hp .."},null,512),[[d,a(e).form.no_hp]])])]),t("div",j,[t("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:s[7]||(s[7]=o=>a(e).setOpenAdd())}," Tutup "),G])],32)])])],2)):_("",!0),a(e).isOpenEdit===!0?(p(),r("div",{key:1,class:f(["modal fade",{show:a(e).isOpenEdit}]),style:{display:"block"},id:"modalEdit",tabindex:"-1","aria-labelledby":"modalEditLabel","aria-hidden":"true"},[t("div",q,[t("div",J,[t("div",Q,[R,t("button",{type:"button",class:"btn-close",onClick:s[9]||(s[9]=o=>a(e).isOpenEdit=!1)})]),t("div",W,[t("div",X,[Y,i(t("input",{type:"text","onUpdate:modelValue":s[10]||(s[10]=o=>a(e).form.nama=o),class:"form-control mt-2",placeholder:"Masukkan nama area .."},null,512),[[d,a(e).form.nama]])]),t("div",Z,[tt,i(t("input",{type:"text","onUpdate:modelValue":s[11]||(s[11]=o=>a(e).form.pic=o),class:"form-control mt-2",placeholder:"Masukkan nama pic .."},null,512),[[d,a(e).form.pic]])]),t("div",st,[at,i(t("input",{type:"text","onUpdate:modelValue":s[12]||(s[12]=o=>a(e).form.no_hp=o),class:"form-control mt-2",placeholder:"Masukkan nomor handphone pic .."},null,512),[[d,a(e).form.no_hp]])])]),t("div",ot,[t("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:s[13]||(s[13]=o=>a(e).isOpenEdit=!1)}," Tutup "),t("button",{type:"button",class:"btn btn-sm btn-danger",onClick:s[14]||(s[14]=o=>a(e).deleteData())}," Hapus "),t("button",{type:"button",class:"btn btn-sm btn-primary",onClick:s[15]||(s[15]=o=>a(e).editData())}," Simpan ")])])])],2)):_("",!0)],64))}};export{it as default};
