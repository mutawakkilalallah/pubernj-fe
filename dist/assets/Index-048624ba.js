import{m as v,z as u,o as m,c as p,b as t,t as c,u as a,d as i,v as d,F as f,j as g,n as _,w as k,H as y}from"./index-06dc9e56.js";import{S as r}from"./sweetalert2.all-dcd20786.js";const b=v("table_area",{state:()=>({items:[],params:{cari:""}}),actions:{async getData(){const n={params:this.params};try{await u.get("area",n).then(l=>{console.log("response area",l),(l.data.code=200)&&(this.items=l.data.data)})}catch(l){console.log("error",l)}}}}),A=v("form_area",{state:()=>({isOpenAdd:!1,isOpenEdit:!1,idEdit:"",form:{nama:"",pic:"",no_hp:""}}),actions:{setOpenAdd(){this.isOpenAdd=!this.isOpenAdd},setOpenEdit(){this.isOpenAdd=!this.isOpenAdd},async tambahData(){try{const n=await u.post("area",this.form);r.fire("Berhasil",n.data.message,"success"),this.setOpenAdd(),this.form={},b().getData()}catch(n){r.fire(n.response.data.message,n.response.data.error,"error")}},handleDoubleClick(n){console.log("datahandle",n.id),this.idEdit=n.id,this.isOpenEdit=!0,this.form.nama=n.nama,this.form.pic=n.pic,this.form.no_hp=n.no_hp},async editData(){try{const n=await u.put(`area/${this.idEdit}`,this.form);this.isOpenEdit=!1,r.fire("Berhasil",n.data.message,"success"),this.form={},b().getData()}catch(n){r.fire(n.response.data.message,n.response.data.error,"error")}},async deleteData(){r.fire({title:"Konfirmasi",text:"Apakah anda yakin ingin menghapus data ?",icon:"info",showCancelButton:!0,confirmButtonText:"Hapus",confirmButtonColor:"#DC3545"}).then(n=>{n.isConfirmed&&u.delete(`area/${this.idEdit}`).then(l=>{this.isOpenEdit=!1,r.fire("Berhasil",l.data.message,"success"),this.form={},b().getData()})})}}}),D=t("h3",null,"Data Area",-1),O=t("hr",null,null,-1),C={class:"search-box row"},x={class:"col-md-10 d-flex align-items-center mb-2"},E={class:"col-md-2 d-flex align-items-center"},w=t("hr",null,null,-1),T={class:"table-responsive"},$={class:"table table-sm table-hover mt-3"},B=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"No"),t("th",{scope:"col"},"Nama Area"),t("th",{scope:"col"},"PIC"),t("th",{scope:"col"},"No. HP")])],-1),N=["onDblclick"],V={class:"modal-dialog"},M={class:"modal-content"},S={class:"modal-header"},U=t("h1",{class:"modal-title fs-5",id:"modalTambahLabel"},"Tambah Area",-1),H={class:"modal-body"},P={class:"form-group mb-3"},L=t("small",null,"Nama Area",-1),I={class:"form-group mb-3"},F=t("small",null,"PIC",-1),z={class:"form-group mb-3"},K=t("small",null,"NO HP",-1),j={class:"modal-footer"},q=t("button",{type:"submit",class:"btn btn-sm btn-primary"},"Simpan",-1),G={class:"model-dialog"},J={class:"modal-content"},Q={class:"modal-header"},R=t("h1",{class:"modal-title fs-5",id:"modalEditLabel"},"Edit Area",-1),W={class:"modal-body"},X={class:"form-group mb-3"},Y=t("small",null,"Nama Area",-1),Z={class:"form-group mb-3"},tt=t("small",null,"PIC",-1),st={class:"form-group mb-3"},at=t("small",null,"No. HP",-1),et={class:"modal-footer"},dt={__name:"Index",setup(n){const l=b(),o=A();return l.getData(),(ot,s)=>(m(),p(f,null,[D,O,t("div",C,[t("div",x,[t("small",null,"Total data "+c(a(l).items.length),1)]),t("div",E,[i(t("input",{type:"text",class:"form-control form-control-sm mb-2",placeholder:"Cari Area","onUpdate:modelValue":s[0]||(s[0]=e=>a(l).params.cari=e),onKeyup:s[1]||(s[1]=(...e)=>a(l).getData&&a(l).getData(...e))},null,544),[[d,a(l).params.cari]])])]),w,t("button",{type:"button",class:"btn btn-sm btn-primary",onClick:s[2]||(s[2]=e=>a(o).setOpenAdd())}," Tambah Area "),t("div",T,[t("table",$,[B,t("tbody",null,[(m(!0),p(f,null,g(a(l).items,(e,h)=>(m(),p("tr",{key:h,onDblclick:nt=>a(o).handleDoubleClick(e)},[t("td",null,c(h+1),1),t("td",null,c(e.nama),1),t("td",null,c(e.pic),1),t("td",null,c(e.no_hp),1)],40,N))),128))])])]),a(o).isOpenAdd===!0?(m(),p("div",{key:0,class:_(["modal fade",{show:a(o).isOpenAdd}]),style:{display:"block"},id:"modalTambah",tabindex:"-1","aria-labelledby":"modalTambahLabel","aria-hidden":"true"},[t("div",V,[t("div",M,[t("div",S,[U,t("button",{type:"button",class:"btn-close",onClick:s[3]||(s[3]=e=>a(o).setOpenAdd())})]),t("form",{onSubmit:s[8]||(s[8]=k((...e)=>a(o).tambahData&&a(o).tambahData(...e),["prevent"]))},[t("div",H,[t("div",P,[L,i(t("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=e=>a(o).form.nama=e),class:"form-control mt-2",placeholder:"Masukkan nama area .."},null,512),[[d,a(o).form.nama]])]),t("div",I,[F,i(t("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=e=>a(o).form.pic=e),class:"form-control mt-2",placeholder:"Masukkan nama pic .."},null,512),[[d,a(o).form.pic]])]),t("div",z,[K,i(t("input",{type:"text",class:"form-control mt-2","onUpdate:modelValue":s[6]||(s[6]=e=>a(o).form.no_hp=e),placeholder:"Masukkan nama no hp .."},null,512),[[d,a(o).form.no_hp]])])]),t("div",j,[t("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:s[7]||(s[7]=e=>a(o).setOpenAdd())},"Tutup"),q])],32)])])],2)):y("",!0),a(o).isOpenEdit===!0?(m(),p("div",{key:1,class:_(["modal fade",{show:a(o).isOpenEdit}]),style:{display:"block"},id:"modalEdit",tabindex:"-1","aria-labelledby":"modalEditLabel","aria-hidden":"true"},[t("div",G,[t("div",J,[t("div",Q,[R,t("button",{type:"button",class:"btn-close",onClick:s[9]||(s[9]=e=>a(o).isOpenEdit=!1)})]),t("div",W,[t("div",X,[Y,i(t("input",{type:"text","onUpdate:modelValue":s[10]||(s[10]=e=>a(o).form.nama=e),class:"form-control mt-2",placeholder:"Masukkan nama area .."},null,512),[[d,a(o).form.nama]])]),t("div",Z,[tt,i(t("input",{type:"text","onUpdate:modelValue":s[11]||(s[11]=e=>a(o).form.pic=e),class:"form-control mt-2",placeholder:"Masukkan nama pic .."},null,512),[[d,a(o).form.pic]])]),t("div",st,[at,i(t("input",{type:"text","onUpdate:modelValue":s[12]||(s[12]=e=>a(o).form.no_hp=e),class:"form-control mt-2",placeholder:"Masukkan nomor handphone pic .."},null,512),[[d,a(o).form.no_hp]])])]),t("div",et,[t("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:s[13]||(s[13]=e=>a(o).isOpenEdit=!1)},"Tutup"),t("button",{type:"button",class:"btn btn-sm btn-danger",onClick:s[14]||(s[14]=e=>a(o).deleteData())},"Hapus"),t("button",{type:"button",class:"btn btn-sm btn-primary",onClick:s[15]||(s[15]=e=>a(o).editData())},"Simpan")])])])],2)):y("",!0)],64))}};export{dt as default};
