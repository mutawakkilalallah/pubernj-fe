import{a as c}from"./axios-4a70c6fc.js";import{S as d}from"./sweetalert2.all-bb7cf6a6.js";import{o as r,c as m,a as t,t as h,w as n,v as i,F as b,i as k,n as _,b as f}from"./index-d563b1f1.js";import{_ as g}from"./_plugin-vue_export-helper-c27b6911.js";const v={data(){return{showModalTambah:!1,showModalEdit:!1,namaTambah:"",picTambah:"",noHpTambah:null,namaEdit:"",picEdit:"",noHpEdit:null,editAreaId:null,cariArea:"",area:[],jumlahData:0}},mounted(){this.getData()},methods:{async getData(){const o=await c.get("https://puber-api.kildev.my.id/area",{headers:{"x-auth-token":localStorage.getItem("token")},params:{cari:this.cariArea}});this.area=o.data.data,this.jumlahData=o.headers.x_total_data},handleDoubleClick(o,a,p,u){this.editAreaId=o,this.namaEdit=a,this.picEdit=p,this.noHpEdit=u,this.showModalEdit=!0},async tambahData(){const o={nama:this.namaTambah,pic:this.picTambah,no_hp:this.noHpTambah};try{const a=await c.post("https://puber-api.kildev.my.id/area",o,{headers:{"x-auth-token":localStorage.getItem("token")}});this.showModalTambah=!1,d.fire("Berhasil",a.data.message,"success"),this.getData(),this.namaTambah="",this.picTambah="",this.noHpTambah=""}catch(a){console.log(a.response),d.fire(a.response.data.message,a.response.data.error,"error")}},async editData(){const o={nama:this.namaEdit,pic:this.picEdit,no_hp:this.noHpEdit};try{const a=await c.put(`https://puber-api.kildev.my.id/area/${this.editAreaId}`,o,{headers:{"x-auth-token":localStorage.getItem("token")}});this.showModalEdit=!1,d.fire("Berhasil",a.data.message,"success"),this.getData()}catch(a){console.log(a.response),d.fire(a.response.data.message,a.response.data.error,"error")}},async deleteData(){d.fire({title:"Konfirmasi",text:"Apakah anda yakin ingin menghapus data ?",icon:"info",showCancelButton:!0,confirmButtonText:"Hapus",confirmButtonColor:"#DC3545"}).then(o=>{o.isConfirmed&&c.delete(`https://puber-api.kildev.my.id/area/${this.editAreaId}`,{headers:{"x-auth-token":localStorage.getItem("token")}}).then(a=>{this.showModalEdit=!1,d.fire("Berhasil",a.data.message,"success"),this.getData()})})}}},T=t("h3",null,"Data Area",-1),D=t("hr",null,null,-1),E={class:"search-box row"},w={class:"col-md-10 d-flex align-items-center mb-2"},x={class:"col-md-2 d-flex align-items-center"},M=t("hr",null,null,-1),C={class:"table-responsive"},A={class:"table table-sm table-hover mt-3"},H=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"No"),t("th",{scope:"col"},"Nama Area"),t("th",{scope:"col"},"PIC"),t("th",{scope:"col"},"No. HP")])],-1),I=["onDblclick"],B={class:"modal-dialog"},N={class:"modal-content"},S={class:"modal-header"},V=t("h1",{class:"modal-title fs-5",id:"modalTambahLabel"},"Tambah Area",-1),U={class:"modal-body"},P={class:"form-group mb-3"},L=t("small",null,"Nama Area",-1),j={class:"form-group mb-3"},F=t("small",null,"PIC",-1),K={class:"form-group mb-3"},z=t("small",null,"No. HP",-1),q={class:"modal-footer"},G={class:"modal-dialog"},J={class:"modal-content"},O={class:"modal-header"},Q=t("h1",{class:"modal-title fs-5",id:"modalEditLabel"},"Edit Area",-1),R={class:"modal-body"},W={class:"modal-body"},X={class:"form-group mb-3"},Y=t("small",null,"Nama Area",-1),Z={class:"form-group mb-3"},$=t("small",null,"PIC",-1),tt={class:"form-group mb-3"},at=t("small",null,"No. HP",-1),et={class:"modal-footer"};function st(o,a,p,u,s,l){return r(),m(b,null,[T,D,t("div",E,[t("div",w,[t("small",null,"Total data "+h(s.jumlahData),1)]),t("div",x,[n(t("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>s.cariArea=e),onKeyup:a[1]||(a[1]=(...e)=>l.getData&&l.getData(...e)),class:"form-control form-control-sm mb-2",placeholder:"Cari Area ..."},null,544),[[i,s.cariArea]])])]),M,t("button",{type:"button",class:"btn btn-sm btn-primary",onClick:a[2]||(a[2]=e=>s.showModalTambah=!0)}," Tambah Area "),t("div",C,[t("table",A,[H,t("tbody",null,[(r(!0),m(b,null,k(s.area,(e,y)=>(r(),m("tr",{key:e.id,onDblclick:ot=>l.handleDoubleClick(e.id,e.nama,e.pic,e.no_hp)},[t("td",null,h(y+1),1),t("td",null,h(e.nama),1),t("td",null,h(e.pic),1),t("td",null,h(e.no_hp),1)],40,I))),128))])])]),s.showModalTambah?(r(),m("div",{key:0,class:_(["modal fade",{show:s.showModalTambah}]),style:{display:"block"},id:"modalTambah",tabindex:"-1","aria-labelledby":"modalTambahLabel","aria-hidden":"true"},[t("div",B,[t("div",N,[t("div",S,[V,t("button",{type:"button",class:"btn-close",onClick:a[3]||(a[3]=e=>s.showModalTambah=!1)})]),t("div",U,[t("div",P,[L,n(t("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>s.namaTambah=e),class:"form-control mt-2",placeholder:"Masukkan nama area .."},null,512),[[i,s.namaTambah]])]),t("div",j,[F,n(t("input",{type:"text","onUpdate:modelValue":a[5]||(a[5]=e=>s.picTambah=e),class:"form-control mt-2",placeholder:"Masukkan nama pic .."},null,512),[[i,s.picTambah]])]),t("div",K,[z,n(t("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=e=>s.noHpTambah=e),class:"form-control mt-2",placeholder:"Masukkan nomer handphone pic .."},null,512),[[i,s.noHpTambah]])])]),t("div",q,[t("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:a[7]||(a[7]=e=>s.showModalTambah=!1)}," Tutup "),t("button",{type:"button",class:"btn btn-sm btn-primary",onClick:a[8]||(a[8]=(...e)=>l.tambahData&&l.tambahData(...e))}," Simpan ")])])])],2)):f("",!0),s.showModalEdit?(r(),m("div",{key:1,class:_(["modal fade",{show:s.showModalEdit}]),style:{display:"block"},id:"modalEdit",tabindex:"-1","aria-labelledby":"modalEditLabel","aria-hidden":"true"},[t("div",G,[t("div",J,[t("div",O,[Q,t("button",{type:"button",class:"btn-close",onClick:a[9]||(a[9]=e=>s.showModalEdit=!1)})]),t("div",R,[t("div",W,[t("div",X,[Y,n(t("input",{type:"text","onUpdate:modelValue":a[10]||(a[10]=e=>s.namaEdit=e),class:"form-control mt-2",placeholder:"Masukkan nama area .."},null,512),[[i,s.namaEdit]])]),t("div",Z,[$,n(t("input",{type:"text","onUpdate:modelValue":a[11]||(a[11]=e=>s.picEdit=e),class:"form-control mt-2",placeholder:"Masukkan nama pic .."},null,512),[[i,s.picEdit]])]),t("div",tt,[at,n(t("input",{type:"text","onUpdate:modelValue":a[12]||(a[12]=e=>s.noHpEdit=e),class:"form-control mt-2",placeholder:"Masukkan nomer handphone pic .."},null,512),[[i,s.noHpEdit]])])]),t("div",et,[t("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:a[13]||(a[13]=e=>s.showModalEdit=!1)}," Tutup "),t("button",{type:"button",class:"btn btn-sm btn-danger",onClick:a[14]||(a[14]=(...e)=>l.deleteData&&l.deleteData(...e))}," Hapus "),t("button",{type:"button",class:"btn btn-sm btn-primary",onClick:a[15]||(a[15]=(...e)=>l.editData&&l.editData(...e))}," Simpan ")])])])])],2)):f("",!0)],64)}const rt=g(v,[["render",st]]);export{rt as default};
