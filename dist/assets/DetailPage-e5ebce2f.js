import{x as tt,C as c,i as Q,j as at,o as st,a as et,c as n,b as t,u as s,t as e,z as d,l as W,q as G,F as it,g as o}from"./index-9172a96f.js";import{u as nt}from"./index-3d3d5207.js";const ot=tt("table_penumpang_detail",{state:()=>({item:{},fotoDiri:""}),actions:{async getDataDetail(r){try{await c.get(`penumpang/${r}`).then(i=>{(i.data.code=200)&&(this.item=i.data.data,this.getImage(i.data.data.santri.niup,"medium"))})}catch{}},async getImage(r){try{const i={responseType:"blob"};await c.get("santri/image/"+r,i).then(a=>{this.fotoDiri=URL.createObjectURL(a.data)})}catch(i){console.log("error",i)}},async izinPedatren(r,i){try{await c.post(`/penumpang/qrcode/${r}`).then(a=>{this.getDataDetail(i)})}catch(a){console.log("error",a)}},goToSuratJalan(r){Q.push(`/penumpang/surat-jalan/${r}`)}}}),rt=t("div",{class:"col-md-8"},[t("h3",{class:"titlePage"},"Detail Data Penumpang")],-1),lt=t("hr",null,null,-1),dt={class:"row"},ct={class:"col-md-3"},mt=["src"],_t={class:"col-md-2"},ut=t("b",null,"NIUP",-1),bt=t("b",null,"Nama",-1),ht=t("b",null,"Jenis Kelamin",-1),pt=t("b",null,"Tetala",-1),gt=t("b",null,"Umur",-1),yt={class:"col-md-2"},kt=t("b",null,"Wilayah",-1),vt=t("b",null,"Daerah",-1),wt=t("b",null,"Kamar",-1),ft=t("b",null,"Lembaga",-1),Dt=t("b",null,"Jurusan",-1),Pt={class:"col-md-5"},xt=t("b",null,"Provinsi",-1),Bt=t("b",null,"Kabupaten",-1),Tt=t("b",null,"Kecamatan",-1),St=t("b",null,"Kode Pos",-1),jt=t("b",null,"Jalan",-1),At=t("hr",null,null,-1),It={class:"row"},Kt={class:"col-md-3"},Nt={class:"card"},Ct=t("div",{class:"card-header bg-primary text-white"},"Tujuan",-1),Ft={class:"card-body"},Jt=t("p",{class:"card-title mb-0"},"Dropspot :",-1),Lt={class:"card-text"},zt=t("p",{class:"card-title mb-0 mt-3"},"Daerah :",-1),Rt={class:"card-text"},$t=t("p",{class:"card-title mb-0 mt-3"},"PIC :",-1),Mt={class:"card-text mb-0"},Ut=t("br",null,null,-1),Vt={class:"card-text"},Et={class:"col-md-3"},qt={class:"card"},Ot=t("div",{class:"card-header bg-primary text-white"},"Pembayaran",-1),Ht={class:"card-body"},Wt=t("p",{class:"card-title mb-0"},"Tarif :",-1),Gt={class:"card-text"},Qt=t("p",{class:"card-title mb-0 mt-3"},"Jumlah Pembayaran :",-1),Xt={class:"card-text"},Yt=t("p",{class:"card-title mb-0 mt-3"},"Status Pembayaran :",-1),Zt={key:0,class:"badge bg-danger"},ta={key:1,class:"badge bg-success"},aa={key:2,class:"badge bg-warning"},sa={key:3,class:"badge bg-info"},ea={class:"col-md-3"},ia={class:"card"},na=t("div",{class:"card-header bg-primary text-white"},"Armada",-1),oa={class:"card-body"},ra=t("p",{class:"card-title mb-0"},"BUS :",-1),la={class:"card-text"},da=t("p",{class:"card-title mb-0 mt-3"},"Pendamping :",-1),ca={class:"card-text"},ma=t("p",{class:"card-title mb-0 mt-3"},"No. HP :",-1),_a={class:"card-text"},ua={class:"col-md-3"},ba={class:"card"},ha=t("div",{class:"card-header bg-primary text-white"},"Persyaratan",-1),pa={class:"card-body"},ga=t("p",{class:"card-title mb-0"},"Biaya Pendidikan Santri (BPS) :",-1),ya={key:0,class:"badge bg-success"},ka={key:1,class:"badge bg-danger"},va=t("p",{class:"card-title mb-0"},"Kos Makan Santri (KOSMARA) :",-1),wa={key:0,class:"badge bg-success"},fa={key:1,class:"badge bg-danger"},Da=t("p",{class:"card-title mb-0"},"Furudhul Ainiyah (FA) :",-1),Pa={key:0,class:"badge bg-success"},xa={key:1,class:"badge bg-danger"},Ba=t("p",{class:"card-title mb-0"},"Bebas Pelanggaran (KAMTIB)",-1),Ta={key:0,class:"badge bg-success"},Sa={key:1,class:"badge bg-danger"},ja={key:0},Aa=t("hr",null,null,-1),Ia=["disabled"],Ka=["disabled"],Fa={__name:"DetailPage",setup(r){const i=nt(),a=ot(),X=at();st(()=>{a.getDataDetail(X.params.uuid)});function Y(){Q.push("/penumpang")}const m=_=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(_);return(_,l)=>{var b,h,p,g,y,k,v,w,f,D,P,x,B,T,S,j,A,I,K,N,C,F,J,L,z,R,$,M,U,V,E,q,O,H;const u=et("font-awesome-icon");return o(),n(it,null,[t("div",{class:"row"},[rt,t("div",{class:"col-md-4 text-end"},[t("button",{class:"btn btn-sm btn-outline-secondary",type:"button",onClick:Y}," Kembali ")])]),lt,t("div",dt,[t("div",ct,[t("img",{src:s(a).fotoDiri,alt:"foto-diri",class:"img-thumbnail",style:{height:"300px","object-fit":"cover"}},null,8,mt)]),t("div",_t,[ut,t("p",null,e(s(a).item.santri?s(a).item.santri.niup:"-"),1),bt,t("p",null,e(s(a).item.santri?s(a).item.santri.nama_lengkap:"-"),1),ht,t("p",null,e(s(a).item.santri?s(a).item.santri.jenis_kelamin:"-"),1),pt,t("p",null,e(s(a).item.santri?s(a).item.santri.raw.tempat_lahir+", "+s(a).item.santri.raw.tanggal_lahir:"-"),1),gt,t("p",null,e(s(a).item.santri?`${s(a).item.santri.raw.umur} Tahun`:"-"),1)]),t("div",yt,[kt,t("p",null,e(s(a).item.santri?s(a).item.santri.wilayah:"-"),1),vt,t("p",null,e(s(a).item.santri?s(a).item.santri.blok:"-"),1),wt,t("p",null,e(s(a).item.santri&&s(a).item.santri.raw.domisili_santri?s(a).item.santri.raw.domisili_santri[s(a).item.santri.raw.domisili_santri.length-1].kamar:"-"),1),ft,t("p",null,e(s(a).item.santri&&s(a).item.santri.raw.pendidikan?s(a).item.santri.raw.pendidikan[s(a).item.santri.raw.pendidikan.length-1].lembaga:"-"),1),Dt,t("p",null,e(s(a).item.santri&&s(a).item.santri.raw.pendidikan?s(a).item.santri.raw.pendidikan[s(a).item.santri.raw.pendidikan.length-1].jurusan:"-"),1)]),t("div",Pt,[xt,t("p",null,e(s(a).item.santri?s(a).item.santri.provinsi:"-"),1),Bt,t("p",null,e(s(a).item.santri?s(a).item.santri.kabupaten:"-"),1),Tt,t("p",null,e(s(a).item.santri?s(a).item.santri.kecamatan:"-"),1),St,t("p",null,e(s(a).item.santri?s(a).item.santri.raw.kodepos:"-"),1),jt,t("p",null,e(s(a).item.santri?s(a).item.santri.raw.jalan:"-"),1)])]),At,t("div",It,[t("div",Kt,[t("div",Nt,[Ct,t("div",Ft,[Jt,t("b",Lt,e(s(a).item.dropspot?s(a).item.dropspot.nama:"-"),1),zt,t("b",Rt,e(s(a).item.dropspot?s(a).item.dropspot.area.nama:"-"),1),$t,t("b",Mt,e(s(a).item.dropspot?s(a).item.dropspot.area.pic:"-"),1),Ut,t("b",Vt,e(s(a).item.dropspot?s(a).item.dropspot.area.no_hp:"-"),1)])])]),t("div",Et,[t("div",qt,[Ot,t("div",Ht,[Wt,t("b",Gt,e(s(a).item.dropspot?m(s(a).item.dropspot.harga):"-"),1),Qt,t("b",Xt,e(s(a).item.dropspot?m(s(a).item.jumlah_bayar):"-"),1),Yt,s(a).item.status_bayar==="belum-lunas"?(o(),n("i",Zt,e(s(a).item.status_bayar),1)):d("",!0),s(a).item.status_bayar==="lunas"?(o(),n("i",ta,e(s(a).item.status_bayar),1)):d("",!0),s(a).item.status_bayar==="kurang"?(o(),n("i",aa,e(s(a).item.status_bayar),1)):d("",!0),s(a).item.status_bayar==="lebih"?(o(),n("i",sa,e(s(a).item.status_bayar),1)):d("",!0)])])]),t("div",ea,[t("div",ia,[na,t("div",oa,[ra,t("b",la,e(s(a).item.armada?s(a).item.armada.nama:"-"),1),da,t("b",ca,e(s(a).item.armada&&s(a).item.armada.user?s(a).item.armada.user.nama_lengkap:"-"),1),ma,t("b",_a,e(s(a).item.armada&&s(a).item.armada.user?s(a).item.armada.user.no_hp:"-"),1)])])]),t("div",ua,[t("div",ba,[ha,t("div",pa,[t("div",null,[ga,(p=(h=(b=s(a))==null?void 0:b.item)==null?void 0:h.persyaratan)!=null&&p.lunas_bps?(o(),n("small",ya,"Lunas ")):(o(),n("small",ka,"Belum Lunas "))]),t("div",null,[va,(k=(y=(g=s(a))==null?void 0:g.item)==null?void 0:y.persyaratan)!=null&&k.lunas_kosmara?(o(),n("small",wa,"Lunas ")):(o(),n("small",fa,"Belum Lunas "))]),t("div",null,[Da,(f=(w=(v=s(a))==null?void 0:v.item)==null?void 0:w.persyaratan)!=null&&f.tuntas_fa?(o(),n("small",Pa,"Tuntas ")):(o(),n("small",xa,"Belum Tuntas "))]),t("div",null,[Ba,(x=(P=(D=s(a))==null?void 0:D.item)==null?void 0:P.persyaratan)!=null&&x.bebas_kamtib?(o(),n("small",Ta,"Bebas ")):(o(),n("small",Sa,"Belum Bebas"))]),(s(i).user.role==="admin"||s(i).user.role==="sysadmin"||s(i).user.role==="wilayah"||s(i).user.role==="daerah")&&(((T=(B=s(a))==null?void 0:B.item)==null?void 0:T.status_bayar)==="lunas"||((j=(S=s(a))==null?void 0:S.item)==null?void 0:j.status_bayar)==="lebih")&&((K=(I=(A=s(a))==null?void 0:A.item)==null?void 0:I.persyaratan)!=null&&K.lunas_bps)&&((F=(C=(N=s(a))==null?void 0:N.item)==null?void 0:C.persyaratan)!=null&&F.lunas_kosmara)&&((z=(L=(J=s(a))==null?void 0:J.item)==null?void 0:L.persyaratan)!=null&&z.tuntas_fa)&&((M=($=(R=s(a))==null?void 0:R.item)==null?void 0:$.persyaratan)!=null&&M.bebas_kamtib)?(o(),n("div",ja,[Aa,t("button",{class:"btn btn-sm btn-info me-2",disabled:(E=(V=(U=s(a))==null?void 0:U.item)==null?void 0:V.persyaratan)==null?void 0:E.izin_pedatren,onClick:l[0]||(l[0]=Z=>s(a).izinPedatren(s(a).item.santri.niup,s(a).item.santri_uuid))},[W(u,{icon:"file-alt",class:"icon"}),G(" Buat Izin PEDATREN ")],8,Ia),t("button",{disabled:!((H=(O=(q=s(a))==null?void 0:q.item)==null?void 0:O.persyaratan)!=null&&H.izin_pedatren),class:"btn btn-sm btn-warning",onClick:l[1]||(l[1]=Z=>s(a).goToSuratJalan(s(a).item.santri.niup))},[W(u,{icon:"print",class:"icon"}),G(" Cetak Surat Jalan ")],8,Ka)])):d("",!0)])])])])],64)}}};export{Fa as default};
