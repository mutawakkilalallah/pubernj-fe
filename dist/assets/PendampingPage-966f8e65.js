import{x as f,D as y,C as _,r as D,a as P,H as k,g as n,c as o,b as t,d as w,q as i,z as x,F as u,s as h,t as s,u as l,l as N}from"./index-47bc540a.js";const A=f("table_pendamping",{state:()=>({user:localStorage.getItem("user")?y():null,items:[],filter:{area:[],dropspot:[]},meta:{},params:{cari:"",area:"",dropspot:"",type:""},armada:{},namaArmada:"",namaDropspot:"",jumlahPenumpang:""}),actions:{async getData(){const c={params:this.params};try{await _.get("armada",c).then(a=>{(a.data.code=200)&&(this.items=a.data.data,this.filter.area=a.data.filter.area,this.meta=a.headers)})}catch{}},async getDataDetail(c){try{await _.get(`armada/${c}`).then(a=>{(a.data.code=200)&&(this.armada=a.data.data,this.jumlahPenumpang=a.data.data.penumpang,this.namaArmada=a.data.data.nama,this.namaDropspot=a.data.data.dropspot.nama)})}catch{}}}}),B={class:"row"},j=t("div",{class:"col-md-8"},[t("h3",{class:"titlePage"},"Data Penumpang Armada")],-1),C={class:"col-md-4 text-end"},S={key:0,class:"btn btn-outline-primary",type:"button"},V=t("hr",null,null,-1),I={class:"row"},q={class:"col-md-3"},z=t("option",{value:"",selected:""},"Pilih Kendaraan",-1),F=["value"],H={key:0,class:"col-md-12",id:"printMe"},L={class:"row"},M={class:"col-md-10"},T=t("hr",null,null,-1),U={class:"mb-1"},E=t("b",null,"Dropspot : ",-1),J=t("p",{class:"mb-1"},[t("b",null,"Pendamping : "),i("-")],-1),K=t("p",{class:"mb-1"},[t("b",null,"No. HP : "),i("-")],-1),W=t("hr",null,null,-1),$={class:"mb-1"},G=t("b",null,"Jumlah Penumpang : ",-1),O={class:"table-responsive table-sm"},Q={class:"table table-bordered table-hover mt-3"},R=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"No"),t("th",{scope:"col"},"NIUP"),t("th",{scope:"col"},"Nama"),t("th",{scope:"col"},"Alamat"),t("th",{scope:"col"},"Domisili"),t("th",{scope:"col"},"Lembaga"),t("th",{scope:"col"},"Nomor Wali")])],-1),X=t("td",null," - ",-1),Y=t("td",null," - ",-1),Z={key:1,class:"text-center pt-lg-5"},tt={class:"alert alert-danger d-flex align-items-center",role:"alert"},at=t("div",null," Belum memilih kendaraan !!! ",-1),st={__name:"PendampingPage",setup(c){const a=A();a.getData();const r=D(0);function p(){const d=document.querySelector(".form-select").value;r.value=d,a.getDataDetail(d)}return(g,d)=>{const b=P("font-awesome-icon"),v=k("print");return n(),o("div",null,[t("div",B,[j,t("div",C,[r.value>0?w((n(),o("button",S,[i("Print")])),[[v,"#printMe"]]):x("",!0)])]),V,t("div",I,[t("div",q,[t("select",{class:"form-select form-select-sm mb-2",onChange:p},[z,(n(!0),o(u,null,h(l(a).items,e=>(n(),o("option",{key:e,value:e.id},s(e.nama),9,F))),128))],32)])]),r.value>0?(n(),o("div",H,[t("div",L,[t("div",M,[t("h3",null,s(l(a).namaArmada),1),T,t("p",U,[E,i(s(l(a).namaDropspot),1)]),J,K,W,t("p",$,[G,i(" "+s(l(a).jumlahPenumpang?l(a).jumlahPenumpang.length:""),1)])]),t("div",O,[t("table",Q,[R,t("tbody",null,[(n(!0),o(u,null,h(l(a).armada.penumpang,(e,m)=>(n(),o("tr",{key:m},[t("td",null,s(m+1),1),t("td",null,s(e.santri.niup),1),t("td",null,s(e.santri.nama_lengkap),1),t("td",null,s(e.santri.kecamatan+" - "+e.santri.kabupaten),1),t("td",null,s(e.santri.blok+" - "+e.santri.wilayah),1),X,Y]))),128))])])])])])):(n(),o("div",Z,[t("div",tt,[N(b,{icon:"triangle-exclamation",class:"icon me-2",style:{"font-size":"20px"}}),at])]))])}}};export{st as default};
