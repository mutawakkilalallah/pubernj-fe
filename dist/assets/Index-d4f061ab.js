import{m as b,z as m,c as l,b as t,d as c,I as h,u as o,F as d,j as p,t as s,v as g,J as f,o as n}from"./index-12a07d37.js";const v=b("table_penumpang",{state:()=>({items:[],headers:{totalData:0},filter:{area:[],dropspot:[]},areaId:"",params:{cari:"",dropspot:""}}),actions:{async getData(){const i={params:this.params};try{await m.get("penumpang",i).then(e=>{(e.data.code=200)&&(this.headers.totalData=e.headers.x_total_data,this.items=e.data.data,this.filter.area=e.data.filter.area)})}catch{}},async getDropspot(){const i={params:{area:this.areaId}};try{await m.get("dropspot",i).then(e=>{console.log(e.data),(e.data.code=200)&&(this.filter.dropspot=e.data.data)})}catch{}}}}),y=t("h3",null,"Data Penumpang",-1),D=t("hr",null,null,-1),k={class:"filter-box mb-5 row"},x={class:"col-md-2"},S=t("option",{value:"",selected:""},"Semua Area",-1),w=["value"],I=["disabled"],P=t("option",{value:"",selected:""},"Semua Dropsot",-1),T=["value"],N=f('<div class="col-md-2"><select class="form-select form-select-sm mb-2"><option value="" selected>Semua Tujuan</option><option value="">-- Sudah Ditentukan --</option><option value="">-- Tanpa Dropspot --</option></select></div>',1),V={class:"serach-box row"},B={class:"col-md-10 d-flex align-items-center mb-2"},C={class:"col-md-2 d-flex align-items-center"},U=t("hr",null,null,-1),j={class:"table-responsive"},K={class:"table table-sm table-hover mt-3"},R=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"No"),t("th",{scope:"col"},"NIUP"),t("th",{scope:"col"},"Nama Santri"),t("th",{scope:"col"},"Wilayah"),t("th",{scope:"col"},"Daerah"),t("th",{scope:"col"},"Kecamatan"),t("th",{scope:"col"},"Kabupaten"),t("th",{scope:"col"},"Provinsi"),t("th",{scope:"col"},"Dropsot"),t("th",{scope:"col"},"Area"),t("th",{scope:"col"},"Tarif"),t("th",{scope:"col"},"Jumlah Bayar"),t("th",{scope:"col"},"Status Pembayaran")])],-1),A=["onDblclick"],F={key:0},J={key:1,class:"text-danger"},M=t("i",null,"belum-ditentukan",-1),z=[M],E={key:2},L={key:3,class:"text-danger"},W=t("i",null,"belum-ditentukan",-1),$=[W],q={key:4},G={key:5,class:"text-danger"},Q={__name:"Index",setup(i){const e=v();return e.getData(),(_,r)=>(n(),l(d,null,[y,D,t("div",k,[t("div",x,[c(t("select",{class:"form-select form-select-sm mb-2","onUpdate:modelValue":r[0]||(r[0]=a=>o(e).areaId=a),onChange:r[1]||(r[1]=(...a)=>o(e).getDropspot&&o(e).getDropspot(...a))},[S,(n(!0),l(d,null,p(o(e).filter.area,a=>(n(),l("option",{key:a,value:a.id},s(a.nama),9,w))),128))],544),[[h,o(e).areaId]]),c(t("select",{class:"form-select form-select-sm mb-2",disabled:o(e).areaId==="","onUpdate:modelValue":r[2]||(r[2]=a=>o(e).params.dropspot=a),onChange:r[3]||(r[3]=(...a)=>o(e).getData&&o(e).getData(...a))},[P,(n(!0),l(d,null,p(o(e).filter.dropspot,a=>(n(),l("option",{key:a,value:a.id},s(a.nama),9,T))),128))],40,I),[[h,o(e).params.dropspot]])]),N]),t("div",V,[t("div",B,[t("small",null,"Total data "+s(o(e).headers.totalData),1)]),t("div",C,[c(t("input",{type:"text","onUpdate:modelValue":r[4]||(r[4]=a=>o(e).params.cari=a),class:"form-control form-control-sm mb-2",placeholder:"Cari Penumpang ...",onKeyup:r[5]||(r[5]=(...a)=>o(e).getData&&o(e).getData(...a))},null,544),[[g,o(e).params.cari]])])]),U,t("div",j,[t("table",K,[R,t("tbody",null,[(n(!0),l(d,null,p(o(e).items,(a,u)=>(n(),l("tr",{key:u,onDblclick:H=>_.form.handleDoubleClik(a)},[t("td",null,s(u+1),1),t("td",null,s(a.santri_niup),1),t("td",null,s(a.santri_nama),1),t("td",null,s(a.santri_wilayah),1),t("td",null,s(a.santri_blok),1),t("td",null,s(a.raw.kecamatan),1),t("td",null,s(a.raw.kabupaten),1),t("td",null,s(a.raw.provinsi),1),a.dropspot?(n(),l("td",F,s(a.dropspot.nama),1)):(n(),l("td",J,z)),a.dropspot?(n(),l("td",E,s(a.dropspot.area.nama),1)):(n(),l("td",L,$)),a.dropspot?(n(),l("td",q,s("Rp. "+a.dropspot.harga),1)):(n(),l("td",G,"Rp. 0")),t("td",null,s("Rp. "+a.jumlah_bayar),1),t("td",null,[t("i",null,s(a.status_bayar),1)])],40,A))),128))])])])],64))}};export{Q as default};
