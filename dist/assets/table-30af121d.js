import{x as s,C as e}from"./index-1bd63614.js";const h=s("table_santri",{state:()=>({isOpenDetail:!1,items:[],item:{},fotoDiri:"",meta:{},myPage:"",filter:{wilayah:[],blok:[]},uuid:"",params:{cari:"",wilayah:"",blok:"",status_kepulangan:"",jenis_kelamin:"",page:1,limit:25}}),actions:{nexPage(a){this.params.page=parseInt(a)+1,this.getData()},prevPage(a){this.params.page=parseInt(a)-1,this.getData()},setPage(a){this.params.page=parseInt(a),this.getData()},searchPage(){this.params.page=1,this.getData()},async getData(){const a={params:this.params};try{await e.get("santri",a).then(t=>{(t.data.code=200)&&(this.items=t.data.data,this.meta=t.headers)})}catch{}},async handleDoubelClick(a){this.uuid=a;try{this.isOpenDetail=!0,await e.get("santri/"+a).then(t=>{(t.data.code=200)&&(this.item=t.data.data,this.getImage(t.data.data.niup,"medium"))})}catch{}},async getImage(a){try{const t={responseType:"blob"};await e.get("santri/image/"+a,t).then(i=>{this.fotoDiri=URL.createObjectURL(i.data)})}catch{}},async getWilayah(){try{await e.get("santri/filter/wilayah").then(a=>{(a.data.code=200)&&(this.filter.wilayah=a.data)})}catch{}},async getBlok(){this.params.blok="",this.getData();try{await e.get(`santri/filter/blok?alias_wilayah=${this.params.wilayah}`).then(a=>{(a.data.code=200)&&(this.filter.blok=a.data)})}catch{}}}});export{h as u};
