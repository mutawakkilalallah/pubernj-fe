import{x as m,C as o,N as i,a as _,o as r,c as u,u as e,K as g,b as n,j as l,k as p,F as h,l as y,t as S}from"./index-85cf10b6.js";const w=m("table_sync",{state:()=>({setupPenumpangItems:0,setupSantriItems:0,showSyncButtonPenumpang:!1,showSyncButtonSantri:!1,isLoading:!1}),actions:{async getSetupPenumpang(){try{await o.get("sync/setup/penumpang").then(t=>{(t.data.code=200)&&(i(t.data.message),this.setupPenumpangItems=t.data.data,this.showSyncButtonPenumpang=!0)})}catch{}},async generatePenumpang(t){try{this.isLoading=!0,await o.post("sync/generate/penumpang/"+t).then(a=>{(a.data.code=200)&&(this.isLoading=!1,i(a.data.message))})}catch{}},async updatePenumpang(){try{this.isLoading=!0,await o.put("sync/update/penumpang/").then(t=>{(t.data.code=200)&&(this.isLoading=!1,i(t.data.message))})}catch{}},async updateUser(){try{this.isLoading=!0,await o.put("sync/update/user/").then(t=>{(t.data.code=200)&&(this.isLoading=!1,i(t.data.message))})}catch{}},async getSetupSantri(){try{await o.get("sync/setup/santri").then(t=>{(t.data.code=200)&&(i(t.data.message),this.setupSantriItems=t.data.data,this.showSyncButtonSantri=!0)})}catch{}},async generateSantri(t){try{this.isLoading=!0,await o.post("sync/generate/santri/"+t).then(a=>{(a.data.code=200)&&(this.isLoading=!1,i(a.data.message))})}catch{}},async updateSantri(){try{this.isLoading=!0,await o.put("sync/update/santri/").then(t=>{(t.data.code=200)&&(this.isLoading=!1,i(t.data.message))})}catch{}}}}),f={key:0,class:"text-center"},P=n("div",{class:"spinner-border text-primary mt-2",role:"status"},null,-1),b=n("h6",{class:"text-primary"},"Sinkornasi dengan server PEDATREN ...",-1),L=n("hr",null,null,-1),k=[P,b,L],v=n("h3",null,"Syncronize Data dengan PEDATREN",-1),B=n("hr",null,null,-1),C={class:"row"},D={class:"col-md-3"},N=n("hr",null,null,-1),U={key:1,class:"row"},I=["onClick"],x=n("hr",null,null,-1),E=n("hr",null,null,-1),T={class:"row"},V={class:"col-md-3"},z={class:"col-md-3"},j={__name:"SyncPage",setup(t){const a=w();return(A,c)=>{const d=_("font-awesome-icon");return r(),u(h,null,[e(a).isLoading===!0?(r(),u("div",f,k)):g("",!0),v,B,n("div",C,[n("div",D,[n("button",{class:"btn btn-warning w-100",onClick:c[0]||(c[0]=(...s)=>e(a).getSetupPenumpang&&e(a).getSetupPenumpang(...s))},[l(d,{icon:"rotate",class:"icon"}),p(" Setup - Sync Data Penumpang ")])])]),N,e(a).showSyncButtonPenumpang===!0?(r(),u("div",U,[(r(!0),u(h,null,y(parseInt(e(a).setupPenumpangItems),s=>(r(),u("div",{class:"col-md-1",key:s},[n("button",{class:"btn btn-info w-100",onClick:F=>e(a).generatePenumpang(s)}," Tahap "+S(s),9,I)]))),128))])):g("",!0),x,n("h3",null,[l(d,{icon:"rotate",class:"icon"}),p(" Update Syncronize")]),E,n("div",T,[n("div",V,[n("button",{class:"btn btn-warning w-100",onClick:c[1]||(c[1]=(...s)=>e(a).updatePenumpang&&e(a).updatePenumpang(...s))},[l(d,{icon:"rotate",class:"icon"}),p(" Update - Sync Data Penumpang ")])]),n("div",z,[n("button",{class:"btn btn-warning w-100",onClick:c[2]||(c[2]=(...s)=>e(a).updateUser&&e(a).updateUser(...s))},[l(d,{icon:"rotate",class:"icon"}),p(" Update - Sync Data User ")])])])],64)}}};export{j as default};
