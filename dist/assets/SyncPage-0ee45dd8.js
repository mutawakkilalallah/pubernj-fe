import{x as m,C as o,N as i,a as _,o as r,c as d,u as n,K as g,b as e,j as l,k as p,F as h,l as y,t as S}from"./index-c9853ec4.js";const w=m("table_sync",{state:()=>({setupPenumpangItems:0,setupSantriItems:0,showSyncButtonPenumpang:!1,showSyncButtonSantri:!1,isLoading:!1}),actions:{async getSetupPenumpang(){try{await o.get("sync/setup/penumpang").then(t=>{(t.data.code=200)&&(i(t.data.message),this.setupPenumpangItems=t.data.data,this.showSyncButtonPenumpang=!0)})}catch{}},async generatePenumpang(t){try{this.isLoading=!0,await o.post("sync/generate/penumpang/"+t).then(a=>{(a.data.code=200)&&(this.isLoading=!1,i(a.data.message))})}catch{}},async updatePenumpang(){try{this.isLoading=!0,await o.put("sync/update/penumpang/").then(t=>{(t.data.code=200)&&(this.isLoading=!1,i(t.data.message))})}catch{}},async updateUser(){try{this.isLoading=!0,await o.put("sync/update/user/").then(t=>{(t.data.code=200)&&(this.isLoading=!1,i(t.data.message))})}catch{}},async getSetupSantri(){try{await o.get("sync/setup/santri").then(t=>{(t.data.code=200)&&(i(t.data.message),this.setupSantriItems=t.data.data,this.showSyncButtonSantri=!0)})}catch{}},async generateSantri(t){try{this.isLoading=!0,await o.post("sync/generate/santri/"+t).then(a=>{(a.data.code=200)&&(this.isLoading=!1,i(a.data.message))})}catch{}},async updateSantri(){try{this.isLoading=!0,await o.put("sync/update/santri/").then(t=>{(t.data.code=200)&&(this.isLoading=!1,i(t.data.message))})}catch{}}}}),f={key:0,class:"text-center"},b=e("div",{class:"spinner-border text-primary mt-2",role:"status"},null,-1),P=e("h6",{class:"text-primary"},"Sinkornasi dengan server PEDATREN ...",-1),L=e("hr",null,null,-1),k=[b,P,L],v=e("h3",null,"Syncronize Data dengan PEDATREN",-1),B=e("hr",null,null,-1),C={class:"row"},D={class:"col-md-3"},N=e("hr",null,null,-1),U={key:1,class:"row"},I=["onClick"],x=e("hr",null,null,-1),E=e("hr",null,null,-1),T={class:"row"},V={class:"col-md-3"},z={class:"col-md-3"},j={__name:"SyncPage",setup(t){const a=w();return(A,c)=>{const u=_("font-awesome-icon");return r(),d(h,null,[n(a).isLoading===!0?(r(),d("div",f,k)):g("",!0),v,B,e("div",C,[e("div",D,[e("button",{disabled:"",class:"btn btn-warning w-100",onClick:c[0]||(c[0]=(...s)=>n(a).getSetupPenumpang&&n(a).getSetupPenumpang(...s))},[l(u,{icon:"rotate",class:"icon"}),p(" Setup - Sync Data Penumpang ")])])]),N,n(a).showSyncButtonPenumpang===!0?(r(),d("div",U,[(r(!0),d(h,null,y(parseInt(n(a).setupPenumpangItems),s=>(r(),d("div",{class:"col-md-1",key:s},[e("button",{disabled:"",class:"btn btn-info w-100",onClick:F=>n(a).generatePenumpang(s)}," Tahap "+S(s),9,I)]))),128))])):g("",!0),x,e("h3",null,[l(u,{icon:"rotate",class:"icon"}),p(" Update Syncronize")]),E,e("div",T,[e("div",V,[e("button",{disabled:"",class:"btn btn-warning w-100",onClick:c[1]||(c[1]=(...s)=>n(a).updatePenumpang&&n(a).updatePenumpang(...s))},[l(u,{icon:"rotate",class:"icon"}),p(" Update - Sync Data Penumpang ")])]),e("div",z,[e("button",{disabled:"",class:"btn btn-warning w-100",onClick:c[2]||(c[2]=(...s)=>n(a).updateUser&&n(a).updateUser(...s))},[l(u,{icon:"rotate",class:"icon"}),p(" Update - Sync Data User ")])])])],64)}}};export{j as default};
