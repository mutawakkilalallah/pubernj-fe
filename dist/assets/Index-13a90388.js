import{m as h,z as u,K as l,a as _,c,u as a,G as m,b as t,h as d,i as p,F as g,j as y,o as i,t as w}from"./index-dca10e1d.js";const P=h("table_sync",{state:()=>({setupPenumpangItems:0,showSyncButtonPenumpang:!1,isLoading:!1}),actions:{async getSetupPenumpang(){try{await u.get("sync/setup/penumpang").then(n=>{(n.data.code=200)&&(l(n.data.message),this.setupPenumpangItems=n.data.data,this.showSyncButtonPenumpang=!0)})}catch{}},async generatePenumpang(n){try{this.isLoading=!0,await u.post("sync/generate/penumpang/"+n).then(e=>{(e.data.code=200)&&(this.isLoading=!1,l(e.data.message))})}catch{}},async updatePenumpang(){try{this.isLoading=!0,await u.put("sync/update/penumpang/").then(n=>{(n.data.code=200)&&(this.isLoading=!1,l(n.data.message))})}catch{}},async updateUser(){try{this.isLoading=!0,await u.put("sync/update/user/").then(n=>{(n.data.code=200)&&(this.isLoading=!1,l(n.data.message))})}catch{}}}}),b={key:0,class:"text-center"},f=t("div",{class:"spinner-border text-primary mt-2",role:"status"},null,-1),S=t("h6",{class:"text-primary"},"Sinkornasi dengan server PEDATREN ...",-1),v=t("hr",null,null,-1),k=[f,S,v],L=t("h3",null,"Syncronize Data dengan PEDATREN",-1),C=t("hr",null,null,-1),D={class:"row"},U={class:"col-md-3"},B=t("hr",null,null,-1),N={key:1,class:"row"},x=["onClick"],E=t("hr",null,null,-1),I=t("hr",null,null,-1),T={class:"row"},V={class:"col-md-3"},z={class:"col-md-3"},j={__name:"Index",setup(n){const e=P();return(A,o)=>{const r=_("font-awesome-icon");return i(),c(g,null,[a(e).isLoading===!0?(i(),c("div",b,k)):m("",!0),L,C,t("div",D,[t("div",U,[t("button",{class:"btn btn-warning w-100",onClick:o[0]||(o[0]=(...s)=>a(e).getSetupPenumpang&&a(e).getSetupPenumpang(...s))},[d(r,{icon:"rotate",class:"icon"}),p(" Setup - Sync Data Penumpang ")])])]),B,a(e).showSyncButtonPenumpang===!0?(i(),c("div",N,[(i(!0),c(g,null,y(parseInt(a(e).setupPenumpangItems),s=>(i(),c("div",{class:"col-md-1",key:s},[t("button",{class:"btn btn-info w-100",onClick:F=>a(e).generatePenumpang(s)}," Tahap "+w(s),9,x)]))),128))])):m("",!0),E,t("h3",null,[d(r,{icon:"rotate",class:"icon"}),p(" Update Syncronize")]),I,t("div",T,[t("div",V,[t("button",{class:"btn btn-warning w-100",onClick:o[1]||(o[1]=(...s)=>a(e).updatePenumpang&&a(e).updatePenumpang(...s))},[d(r,{icon:"rotate",class:"icon"}),p(" Update - Sync Data Penumpang ")])]),t("div",z,[t("button",{class:"btn btn-warning w-100",onClick:o[2]||(o[2]=(...s)=>a(e).updateUser&&a(e).updateUser(...s))},[d(r,{icon:"rotate",class:"icon"}),p(" Update - Sync Data User ")])])])],64)}}};export{j as default};
