import{x as g,C as u,q as b,a as v,o as n,c as r,b as t,d,L as h,u as s,F as p,l as c,t as o,v as y,e as f,K as D}from"./index-93a656cc.js";const P=g("table_penumpang",{state:()=>({items:[],meta:{},myPage:"",filter:{area:[],dropspot:[]},areaId:"",params:{cari:"",dropspot:"",page:1,limit:25}}),actions:{nexPage(i){this.params.page=parseInt(i)+1,this.getData()},prevPage(i){this.params.page=parseInt(i)-1,this.getData()},setPage(i){this.params.page=parseInt(i),this.getData()},searchPage(){this.params.page=1,this.getData()},async getData(){const i={params:this.params};try{await u.get("penumpang",i).then(a=>{(a.data.code=200)&&(this.totalData=a.headers.x_total_data,this.items=a.data.data,this.meta=a.headers,this.filter.area=a.data.filter.area)})}catch{}},async getDropspot(){const i={params:{area:this.areaId}};try{await u.get("dropspot",i).then(a=>{console.log(a.data),(a.data.code=200)&&(this.filter.dropspot=a.data.data)})}catch{}}}}),k=t("h3",null,"Data Penumpang",-1),x=t("hr",null,null,-1),w={class:"filter-box mb-5 row"},I={class:"col-md-2"},S=t("option",{value:"",selected:""},"Semua Area",-1),N=["value"],C=["disabled"],B=t("option",{value:"",selected:""},"Semua Dropsot",-1),V=["value"],F={class:"serach-box row"},K={class:"col-md-10 d-flex align-items-center mb-2"},L={class:"col-md-2 d-flex align-items-center"},T=t("hr",null,null,-1),U={class:"table-responsive"},M={class:"table table-sm table-hover mt-3"},R=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"No"),t("th",{scope:"col"},"NIUP"),t("th",{scope:"col"},"Nama Santri"),t("th",{scope:"col"},"Wilayah"),t("th",{scope:"col"},"Daerah"),t("th",{scope:"col"},"Kecamatan"),t("th",{scope:"col"},"Kabupaten"),t("th",{scope:"col"},"Provinsi"),t("th",{scope:"col"},"Dropsot"),t("th",{scope:"col"},"Area"),t("th",{scope:"col"},"Tarif"),t("th",{scope:"col"},"Jumlah Bayar"),t("th",{scope:"col"},"Status Pembayaran")])],-1),A={key:0},j={key:1,class:"text-danger"},q=t("i",null,"belum-ditentukan",-1),E=[q],J={key:2},W={key:3,class:"text-danger"},z=t("i",null,"belum-ditentukan",-1),G=[z],H={key:4},O={key:5,class:"text-danger"},Y={__name:"PenumpangPage",setup(i){const a=P();return b(()=>{a.getData()}),(Q,l)=>{const _=v("app-paginate");return n(),r(p,null,[k,x,t("div",w,[t("div",I,[d(t("select",{class:"form-select form-select-sm mb-2","onUpdate:modelValue":l[0]||(l[0]=e=>s(a).areaId=e),onChange:l[1]||(l[1]=(...e)=>s(a).getDropspot&&s(a).getDropspot(...e))},[S,(n(!0),r(p,null,c(s(a).filter.area,e=>(n(),r("option",{key:e,value:e.id},o(e.nama),9,N))),128))],544),[[h,s(a).areaId]]),d(t("select",{class:"form-select form-select-sm mb-2",disabled:s(a).areaId==="","onUpdate:modelValue":l[2]||(l[2]=e=>s(a).params.dropspot=e),onChange:l[3]||(l[3]=(...e)=>s(a).getData&&s(a).getData(...e))},[B,(n(!0),r(p,null,c(s(a).filter.dropspot,e=>(n(),r("option",{key:e,value:e.id},o(e.nama),9,V))),128))],40,C),[[h,s(a).params.dropspot]])])]),t("div",F,[t("div",K,[t("small",null,"Total data "+o(s(a).totalData),1)]),t("div",L,[d(t("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=e=>s(a).params.cari=e),class:"form-control form-control-sm mb-2",placeholder:"Cari Penumpang ...",onKeyup:l[5]||(l[5]=(...e)=>s(a).getData&&s(a).getData(...e))},null,544),[[y,s(a).params.cari]])])]),T,t("div",U,[t("table",M,[R,t("tbody",null,[(n(!0),r(p,null,c(s(a).items,(e,m)=>(n(),r("tr",{key:m},[t("td",null,o(m+1+(s(a).params.page-1)*s(a).params.limit),1),t("td",null,o(e.santri_niup),1),t("td",null,o(e.santri_nama),1),t("td",null,o(e.santri_wilayah),1),t("td",null,o(e.santri_blok),1),t("td",null,o(e.raw.kecamatan),1),t("td",null,o(e.raw.kabupaten),1),t("td",null,o(e.raw.provinsi),1),e.dropspot?(n(),r("td",A,o(e.dropspot.nama),1)):(n(),r("td",j,E)),e.dropspot?(n(),r("td",J,o(e.dropspot.area.nama),1)):(n(),r("td",W,G)),e.dropspot?(n(),r("td",H,o("Rp. "+e.dropspot.harga),1)):(n(),r("td",O,"Rp. 0")),t("td",null,o("Rp. "+e.jumlah_bayar),1),t("td",null,[t("i",null,o(e.status_bayar),1)])]))),128))])])]),s(a).meta.x_total_data?(n(),f(_,{key:0,meta:s(a).meta,per_page:s(a).params.limit,onSetPage:l[6]||(l[6]=e=>s(a).setPage(e)),onNext:s(a).nexPage,onPrev:s(a).prevPage,onLast:s(a).setPage,onFirst:s(a).setPage},null,8,["meta","per_page","onNext","onPrev","onLast","onFirst"])):D("",!0)],64)}}};export{Y as default};
