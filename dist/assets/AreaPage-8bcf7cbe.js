import{x as v,C as c,S as k,o as r,c as m,b as t,t as p,u as s,d as i,v as d,F as b,l as g,n as f,w as _,K as y}from"./index-c9853ec4.js";const u=v("table_area",{state:()=>({items:[],totaldata:0,params:{cari:""}}),actions:{async getData(){const l={params:this.params};try{await c.get("area",l).then(n=>{(n.data.code=200)&&(this.items=n.data.data,this.totaldata=n.headers.x_total_data)})}catch(n){console.log("error",n)}}}}),O=v("form_area",{state:()=>({isOpenAdd:!1,isOpenEdit:!1,idEdit:"",form:{nama:"",pic:"",no_hp:""}}),actions:{resetForm(){this.form.nama="",this.form.pic="",this.form.no_hp=""},setOpenAdd(){this.isOpenAdd=!this.isOpenAdd},setOpenEdit(){this.isOpenEdit=!this.isOpenEdit,this.resetForm()},async tambahData(){try{const l=await c.post("area",this.form);this.setOpenAdd(),this.resetForm(),u().getData()}catch{}},handleDoubleClick(l){this.idEdit=l.id,this.isOpenEdit=!0,this.form.nama=l.nama,this.form.pic=l.pic,this.form.no_hp=l.no_hp},async editData(){try{const l=await c.put(`area/${this.idEdit}`,this.form);this.isOpenEdit=!1,this.resetForm(),u().getData()}catch{}},async deleteData(){k.fire({title:"Konfirmasi",text:"Apakah anda yakin ingin menghapus data ?",icon:"info",showCancelButton:!0,confirmButtonText:"Hapus",confirmButtonColor:"#DC3545"}).then(l=>{l.isConfirmed&&c.delete(`area/${this.idEdit}`).then(n=>{this.isOpenEdit=!1,this.resetForm(),u().getData()})})}}}),A=t("h3",null,"Data Area",-1),D=t("hr",null,null,-1),E={class:"search-box row"},C={class:"col-md-10 d-flex align-items-center mb-2"},x={class:"col-md-2 d-flex align-items-center"},w=t("hr",null,null,-1),T={class:"table-responsive"},N={class:"table table-sm table-hover mt-3"},V=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"No"),t("th",{scope:"col"},"Nama Area"),t("th",{scope:"col"},"PIC"),t("th",{scope:"col"},"No. HP")])],-1),F=["onDblclick"],M={class:"modal-dialog"},S={class:"modal-content"},P={class:"modal-header"},U=t("h1",{class:"modal-title fs-5",id:"modalTambahLabel"},"Tambah Area",-1),B={class:"modal-body"},H={class:"form-group mb-3"},L=t("small",null,"Nama Area",-1),$={class:"form-group mb-3"},I=t("small",null,"PIC",-1),K={class:"form-group mb-3"},z=t("small",null,"NO HP",-1),j={class:"modal-footer"},q=t("button",{type:"submit",class:"btn btn-sm btn-primary"},"Simpan",-1),G={class:"modal-dialog"},J={class:"modal-content"},Q={class:"modal-header"},R=t("h1",{class:"modal-title fs-5",id:"modalEditLabel"},"Edit Area",-1),W={class:"modal-body"},X={class:"form-group mb-3"},Y=t("small",null,"Nama Area",-1),Z={class:"form-group mb-3"},tt=t("small",null,"PIC",-1),st={class:"form-group mb-3"},at=t("small",null,"No. HP",-1),ot={class:"modal-footer"},et=t("button",{type:"submit",class:"btn btn-sm btn-primary"}," Simpan ",-1),dt={__name:"AreaPage",setup(l){const n=u(),o=O();return n.getData(),(nt,e)=>(r(),m(b,null,[A,D,t("div",E,[t("div",C,[t("small",null,"Total data "+p(s(n).items.length),1)]),t("div",x,[i(t("input",{type:"text",class:"form-control form-control-sm mb-2",placeholder:"Cari Area","onUpdate:modelValue":e[0]||(e[0]=a=>s(n).params.cari=a),onKeyup:e[1]||(e[1]=(...a)=>s(n).getData&&s(n).getData(...a))},null,544),[[d,s(n).params.cari]])])]),w,t("button",{type:"button",class:"btn btn-sm btn-primary",onClick:e[2]||(e[2]=a=>s(o).setOpenAdd())}," Tambah Area "),t("div",T,[t("table",N,[V,t("tbody",null,[(r(!0),m(b,null,g(s(n).items,(a,h)=>(r(),m("tr",{key:h,onDblclick:lt=>s(o).handleDoubleClick(a)},[t("td",null,p(h+1),1),t("td",null,p(a.nama),1),t("td",null,p(a.pic),1),t("td",null,p(a.no_hp),1)],40,F))),128))])])]),s(o).isOpenAdd===!0?(r(),m("div",{key:0,class:f(["modal fade",{show:s(o).isOpenAdd}]),style:{display:"block"},id:"modalTambah",tabindex:"-1","aria-labelledby":"modalTambahLabel","aria-hidden":"true"},[t("div",M,[t("div",S,[t("div",P,[U,t("button",{type:"button",class:"btn-close",onClick:e[3]||(e[3]=(...a)=>s(o).setOpenAdd&&s(o).setOpenAdd(...a))})]),t("form",{onSubmit:e[8]||(e[8]=_((...a)=>s(o).tambahData&&s(o).tambahData(...a),["prevent"]))},[t("div",B,[t("div",H,[L,i(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=a=>s(o).form.nama=a),class:"form-control mt-2",placeholder:"Masukkan nama area .."},null,512),[[d,s(o).form.nama]])]),t("div",$,[I,i(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>s(o).form.pic=a),class:"form-control mt-2",placeholder:"Masukkan nama pic .."},null,512),[[d,s(o).form.pic]])]),t("div",K,[z,i(t("input",{type:"number",class:"form-control mt-2","onUpdate:modelValue":e[6]||(e[6]=a=>s(o).form.no_hp=a),placeholder:"Masukkan nama no hp .."},null,512),[[d,s(o).form.no_hp]])])]),t("div",j,[t("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:e[7]||(e[7]=(...a)=>s(o).setOpenAdd&&s(o).setOpenAdd(...a))}," Tutup "),q])],32)])])],2)):y("",!0),s(o).isOpenEdit===!0?(r(),m("div",{key:1,class:f(["modal fade",{show:s(o).isOpenEdit}]),style:{display:"block"},id:"modalEdit",tabindex:"-1","aria-labelledby":"modalEditLabel","aria-hidden":"true"},[t("div",G,[t("div",J,[t("div",Q,[R,t("button",{type:"button",class:"btn-close",onClick:e[9]||(e[9]=(...a)=>s(o).setOpenEdit&&s(o).setOpenEdit(...a))})]),t("form",{onSubmit:e[15]||(e[15]=_((...a)=>s(o).editData&&s(o).editData(...a),["prevent"]))},[t("div",W,[t("div",X,[Y,i(t("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=a=>s(o).form.nama=a),class:"form-control mt-2",placeholder:"Masukkan nama area .."},null,512),[[d,s(o).form.nama]])]),t("div",Z,[tt,i(t("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=a=>s(o).form.pic=a),class:"form-control mt-2",placeholder:"Masukkan nama pic .."},null,512),[[d,s(o).form.pic]])]),t("div",st,[at,i(t("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=a=>s(o).form.no_hp=a),class:"form-control mt-2",placeholder:"Masukkan nomor handphone pic .."},null,512),[[d,s(o).form.no_hp]])])]),t("div",ot,[t("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:e[13]||(e[13]=(...a)=>s(o).setOpenEdit&&s(o).setOpenEdit(...a))}," Tutup "),t("button",{type:"button",class:"btn btn-sm btn-danger",onClick:e[14]||(e[14]=a=>s(o).deleteData())}," Hapus "),et])],32)])])],2)):y("",!0)],64))}};export{dt as default};
