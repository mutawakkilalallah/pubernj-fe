import{o as c,c as d,b as u,t as h,m as E,q as B,s as M,r as m,x as _,y as j,z as O,A as V,d as y,B as b,u as s,j as D,F as z,l as G}from"./index-b14a9fb6.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{u as U}from"./index-edda8b45.js";const $="/whoami.jpg",q={props:["warna","total","nama"]},I={class:"col-md-3"},N=u("hr",null,null,-1);function K(t,n,e,a,l,o){return c(),d("div",I,[u("div",{class:"box-widget rounded text-white text-center p-4 mb-4",style:E({backgroundColor:e.warna})},[u("h1",null,h(e.total),1),N,u("p",null,h(e.nama),1)],4)])}const L=R(q,[["render",K]]),A="https://www.gstatic.com/charts/loader.js";let k=null;const x=new Map;function W(){return window.google!==void 0?Promise.resolve(window.google.charts):(k===null&&(k=new Promise(t=>{const n=document.querySelector('script[src="'.concat(A,'"]')),e=n||document.createElement("script");n||(e.src=A,e.type="text/javascript",document.head.append(e)),e.onload=()=>{window.google!==void 0&&t(window.google.charts)}})),k)}async function H(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current",{packages:n=["corechart","controls"],language:e="en",mapsApiKey:a}=arguments.length>1?arguments[1]:void 0;const l=await W(),o="".concat(t,"_").concat(n.join("_"),"_").concat(e);if(x.has(o))return x.get(o);const r=new Promise(i=>{l.load(t,{packages:n,language:e,mapsApiKey:a}),l.setOnLoadCallback(()=>i(window.google))});return x.set(o,r),r}function J(t,n,e){return t!==null&&n instanceof t.visualization.DataTable||t!==null&&n instanceof t.visualization.DataView?n:t!==null&&Array.isArray(n)?t.visualization.arrayToDataTable(n,e):t!==null&&n!==null&&typeof n=="object"?new t.visualization.DataTable(n):null}function S(t,n,e,a,l,o){const r=(f,g,v)=>{if(v===void 0)throw new Error("please, provide chart type property");return new g.visualization[v](f)};if(t===null)throw new Error("please, provide charts lib property");if(e===null)throw new Error("please, provide chart element property");return n=(o||r)(e,t,a),Q(t,n,l),n}function Q(t,n,e){if(e!==null)for(const[a,l]of Object.entries(e))t!==null&&n!==null&&t.visualization.events.addListener(n,a,l)}function T(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,e;function a(){return n}return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];const f=this,g=function(){e=void 0,t.apply(f,r)};e!==void 0&&clearTimeout(e),e=setTimeout(g,a())}}let p=null;const P=M({name:"GChart",props:{type:{type:String,required:!0},data:{type:[Array,Object,null],default:()=>[]},isFirstRowLabels:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},version:{type:String,default:"current"},settings:{type:Object,default:()=>({packages:["corechart","table"]})},events:{type:Object,default:null},createChart:{type:Function,default:void 0},resizeDebounce:{type:Number,default:200}},setup(t,n){let{emit:e}=n;const a=m(null),l=m(null);function o(){if(p===null||a.value===null)return;const r=J(p,t.data,t.isFirstRowLabels);if(r!==null){var i;(i=a.value)===null||i===void 0||i.draw(r,t.options)}}return _(()=>t.data,()=>o(),{deep:!0}),_(()=>t.options,()=>o(),{deep:!0}),_(()=>t.type,()=>{a.value=S(p,a.value,l.value,t.type,t.events,t.createChart),o()}),j(()=>{H(t.version,t.settings).then(r=>{r!==void 0&&(p=r,a.value=S(p,a.value,l.value,t.type,t.events,t.createChart),e("ready",a.value,r),o())}),t.resizeDebounce>0&&window.addEventListener("resize",T(o,t.resizeDebounce))}),O(()=>{a.value!==null&&typeof a.value.clearChart=="function"&&a.value.clearChart(),t.resizeDebounce>0&&window.removeEventListener("resize",T(o,t.resizeDebounce))}),()=>V("div",{ref:l},[])}}),F=B({});function X(){F.component("GChart",P)}const Y={version:"1.1.0",install:X};let C=null;typeof window<"u"&&(C=window.Vue);C!=null&&F.use(Y);const Z=u("h3",null,"Dashboard",-1),ee=u("hr",null,null,-1),te={class:"user-card d-flex align-items-center bg-primary p-2 rounded"},ne={style:{width:"80px",height:"80px","background-color":"rgba(255, 255, 255, 0.363)","border-radius":"50%",display:"flex","flex-direction":"row","justify-content":"center","align-items":"center"},class:"me-3"},ae=u("div",{class:"spinner-border text-primary",style:{width:"3rem",height:"3rem"},role:"status"},null,-1),oe=[ae],re={key:0,src:$,alt:"pohto-profile",width:"80",class:"rounded-circle me-3"},se=["src"],le={class:"user-info text-white"},ie={key:0,style:{"font-size":"20px","margin-bottom":"0"},class:"fw-bold"},ue={key:1,style:{"font-size":"20px","margin-bottom":"0"},class:"fw-bold"},ce={key:2},de={key:3},me={key:4},fe={key:5},he={style:{"margin-left":"-120px"}},ge={class:"row mt-3"},ye={__name:"Dashboard",setup(t){const n={chart:{title:"Company Performance",subtitle:"Sales, Expenses, and Profit: 2014-2017"}},e=U(),a=m(0),l=m(0),o=m(0),r=m(0),i=m(0),f=m(0);j(async()=>{e.getImage(e.user.santri_uuid,"small"),await e.getStats(),a.value=e.stast.totalSantri,l.value=e.stast.totalPenumpang,o.value=e.stast.totalTidakRombongan,r.value=e.stast.totalArea,i.value=e.stast.totalDropspot,f.value=e.stast.totalUser});const g=[{warna:"#006c8a",total:a,nama:"Total Santri"},{warna:"#8a5700",total:l,nama:"Total Penumpang"},{warna:"#8a5700",total:o,nama:"Total Santri Tidak Rombongan"},{warna:"#315200",total:r,nama:"Total Area"},{warna:"#2d0063",total:i,nama:"Total Dropspot"},...e.user.role=="sysadmin"?[{warna:"#5e0600",total:f,nama:"Total User"}]:[]];return(v,pe)=>(c(),d(z,null,[Z,ee,u("div",te,[y(u("div",ne,oe,512),[[b,s(e).loading===!0]]),s(e).user.santri.nama_lengkap==="Mutawakkil Alallah"?y((c(),d("img",re,null,512)),[[b,s(e).loading===!1]]):y((c(),d("img",{key:1,src:s(e).foto,alt:"pohto-profile",width:"80",class:"rounded-circle me-3"},null,8,se)),[[b,s(e).loading===!1]]),u("div",le,[s(e).user.santri.nama_lengkap==="Mutawakkil Alallah"?(c(),d("p",ie," Aa ")):(c(),d("p",ue,h(s(e).user.santri.nama_lengkap),1)),s(e).user.santri.nama_lengkap==="Mutawakkil Alallah"?(c(),d("i",ce,"Stayprogress:v")):s(e).user.role==="daerah"?(c(),d("i",de,h(s(e).user.santri.wilayah+" - "+s(e).user.santri.blok),1)):s(e).user.role==="wilayah"?(c(),d("i",me,h(s(e).user.santri.wilayah),1)):(c(),d("i",fe,h(s(e).user.role),1))])]),u("div",he,[D(s(P),{type:"ColumnChart",data:s(e).chart,options:n},null,8,["data"])]),u("div",ge,[(c(),d(z,null,G(g,w=>D(L,{key:w.nama,warna:w.warna,total:w.total,nama:w.nama},null,8,["warna","total","nama"])),64))])],64))}};export{ye as default};
