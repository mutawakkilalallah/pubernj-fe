import{m as p,z as m,c,b as t,t as o,u as s,d as n,v as d,F as u,j as b,n as v,G as g,i as y,o as r}from"./index-ddf1c4db.js";const f=p("table_santri",{state:()=>({isOpenDetail:!1,items:[],item:{},fotoDiri:"",headers:{totalData:0,totalPage:0},params:{cari:"",page:1}}),actions:{async getData(){const i={params:this.params};try{await m.get("santri",i).then(a=>{(a.data.code=200)&&(this.items=a.data.data,this.headers.totalData=a.headers.x_total_data,this.headers.totalPage=a.headers.x_total_page)})}catch{}},async handleDoubelClick(i){try{this.isOpenDetail=!0,await m.get("santri/"+i).then(a=>{(a.data.code=200)&&(this.item=a.data.data,this.getImage(a.data.data.uuid,"medium"))})}catch{}},async getImage(i){try{const a={responseType:"blob"};await m.get("santri/image/"+i,a).then(_=>{this.fotoDiri=URL.createObjectURL(_.data)})}catch(a){console.log("error",a)}}}}),x=t("h3",null,"Data Santri",-1),D=t("hr",null,null,-1),k={class:"serach-box row"},w={class:"col-md-10 d-flex align-items-center mb-2"},U={class:"col-md-2 d-flex align-items-center"},L=t("hr",null,null,-1),N={class:"table-responsive"},V={class:"table table-sm table-hover mt-3"},T=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"No"),t("th",{scope:"col"},"NIUP"),t("th",{scope:"col"},"Nama Lengkap"),t("th",{scope:"col"},"JK"),t("th",{scope:"col"},"Wilayah"),t("th",{scope:"col"},"Daerah"),t("th",{scope:"col"},"Kab/Kota")])],-1),C=["onDblclick"],K={class:"modal-dialog"},O={class:"modal-content"},P={class:"modal-header"},S=t("h1",{class:"modal-title fs-5",id:"modalDetailLabel"},"Detail Santri",-1),j={class:"modal-body"},I=t("p",{class:"text-sm text-warning fst-italic"},[y(" *) Data ini bersifat secondary, untuk data lebih lanjut silahkan lihat di "),t("a",{href:"https://nuruljadid.app",style:{"text-decoration":"none"},target:"_blank",class:"text-info"},[t("b",null,"PEDATREN")])],-1),R={class:"row"},B={class:"col-md-8 order-sm-2 order-md-2"},E={class:"mb-3 row"},$=t("label",{class:"col-sm-4 col-form-label"},"NIUP",-1),z={class:"col-sm-8"},F={class:"mb-3 row"},W=t("label",{class:"col-sm-4 col-form-label"},"Nama Lengkap",-1),A={class:"col-sm-8"},G={class:"mb-3 row"},J=t("label",{class:"col-sm-4 col-form-label"},"Tanggal Lahir",-1),M={class:"col-sm-8"},q=["value"],H={class:"mb-3 row"},Q=t("label",{class:"col-sm-4 col-form-label"},"Wilayah",-1),X={class:"col-sm-8"},Y={class:"mb-3 row"},Z=t("label",{class:"col-sm-4 col-form-label"},"Daerah",-1),tt={class:"col-sm-8"},at={class:"mb-3 row"},st=t("label",{class:"col-sm-4 col-form-label"},"Kamar",-1),lt={class:"col-sm-8"},et={class:"mb-3 row"},ot=t("label",{class:"col-sm-4 col-form-label"},"Kecamatan",-1),it={class:"col-sm-8"},nt=["value"],dt={class:"mb-3 row"},ct=t("label",{class:"col-sm-4 col-form-label"},"Kabupaten",-1),rt={class:"col-sm-8"},mt=["value"],_t={class:"mb-3 row"},ht=t("label",{class:"col-sm-4 col-form-label"},"Provinsi",-1),ut={class:"col-sm-8"},pt=["value"],bt={class:"col-md-4 order-sm-1 order-md-2 mb-5 text-end"},vt=["src"],gt={class:"modal-footer"},yt=t("button",{class:"btn btn-primary"},"Lihat Data Rombongan",-1),Dt={__name:"Index",setup(i){const a=f();return a.getData(),(_,e)=>(r(),c(u,null,[x,D,t("div",k,[t("div",w,[t("small",null,"Total data "+o(s(a).headers.totalData),1)]),t("div",U,[n(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>s(a).params.cari=l),class:"form-control form-control-sm mb-2",placeholder:"Cari Santri ...",onKeyup:e[1]||(e[1]=(...l)=>s(a).getData&&s(a).getData(...l))},null,544),[[d,s(a).params.cari]])])]),L,t("div",N,[t("table",V,[T,t("tbody",null,[(r(!0),c(u,null,b(s(a).items,(l,h)=>(r(),c("tr",{key:h,onDblclick:ft=>s(a).handleDoubelClick(l.uuid)},[t("td",null,o(h+1),1),t("td",null,o(l.warga_pesantren.niup),1),t("td",null,o(l.nama_lengkap),1),t("td",null,o(l.jenis_kelamin),1),t("td",null,o(l.domisili_santri.wilayah),1),t("td",null,o(l.domisili_santri.blok),1),t("td",null,o(l.kabupaten),1)],40,C))),128))])])]),s(a).isOpenDetail===!0?(r(),c("div",{key:0,class:v(["modal fade modal-lg",{show:s(a).isOpenDetail}]),style:{display:"block"},id:"modalDetail",tabindex:"-1","aria-labelledby":"modalDetailLabel","aria-hidden":"true"},[t("div",K,[t("div",O,[t("div",P,[S,t("button",{class:"btn-close",type:"button",onClick:e[2]||(e[2]=l=>s(a).isOpenDetail=!1)})]),t("div",j,[I,t("div",R,[t("div",B,[t("div",E,[$,t("div",z,[n(t("input",{type:"text",readonly:"",class:"form-control-plaintext","onUpdate:modelValue":e[3]||(e[3]=l=>s(a).item.warga_pesantren.niup=l)},null,512),[[d,s(a).item.warga_pesantren.niup]])])]),t("div",F,[W,t("div",A,[n(t("input",{type:"text",readonly:"",class:"form-control-plaintext","onUpdate:modelValue":e[4]||(e[4]=l=>s(a).item.nama_lengkap=l)},null,512),[[d,s(a).item.nama_lengkap]])])]),t("div",G,[J,t("div",M,[t("input",{type:"text",readonly:"",class:"form-control-plaintext",value:s(a).item.tempat_lahir+", "+s(a).item.tanggal_lahir},null,8,q)])]),t("div",H,[Q,t("div",X,[n(t("input",{type:"text",readonly:"",class:"form-control-plaintext","onUpdate:modelValue":e[5]||(e[5]=l=>s(a).item.domisili_santri[s(a).item.domisili_santri.length-1].wilayah=l)},null,512),[[d,s(a).item.domisili_santri[s(a).item.domisili_santri.length-1].wilayah]])])]),t("div",Y,[Z,t("div",tt,[n(t("input",{type:"text",readonly:"",class:"form-control-plaintext","onUpdate:modelValue":e[6]||(e[6]=l=>s(a).item.domisili_santri[s(a).item.domisili_santri.length-1].blok=l)},null,512),[[d,s(a).item.domisili_santri[s(a).item.domisili_santri.length-1].blok]])])]),t("div",at,[st,t("div",lt,[n(t("input",{type:"text",readonly:"",class:"form-control-plaintext","onUpdate:modelValue":e[7]||(e[7]=l=>s(a).item.domisili_santri[s(a).item.domisili_santri.length-1].kamar=l)},null,512),[[d,s(a).item.domisili_santri[s(a).item.domisili_santri.length-1].kamar]])])]),t("div",et,[ot,t("div",it,[t("input",{type:"text",readonly:"",class:"form-control-plaintext",value:s(a).item.kecamatan},null,8,nt)])]),t("div",dt,[ct,t("div",rt,[t("input",{type:"text",readonly:"",class:"form-control-plaintext",value:s(a).item.kabupaten},null,8,mt)])]),t("div",_t,[ht,t("div",ut,[t("input",{type:"text",readonly:"",class:"form-control-plaintext",value:s(a).item.provinsi},null,8,pt)])])]),t("div",bt,[t("img",{src:s(a).fotoDiri,alt:"foto-diri",class:"img-thumbnail"},null,8,vt)])])]),t("div",gt,[yt,t("button",{class:"btn btn-secondary",onClick:e[8]||(e[8]=l=>s(a).isOpenDetail=!1)}," Tutup ")])])])],2)):g("",!0)],64))}};export{Dt as default};
